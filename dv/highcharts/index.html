<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Highcharts Demo</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script src="http://code.highcharts.com/highcharts.js"></script>
		<script type="text/javascript" src="/js/themes/gray.js"></script>
		<link href='css/OC_highcharts.css' rel='stylesheet' type='text/css'>
    </head>
    <body>
	<div id="container" style="width:100%; height:400px;"></div>
	<div id="floatInput">
		<p id="currentFloat">Select a new ID and then update the chart.</p>
		<p id="currentFloat"> Current ID: 111</p>
		<div id="floatSelect">
			Select a new ID: <input type="text" id="newFloatID" value=""><br/>
			<button id="btnRemove">Update Chart</button> 
		</div>
		<p id="error">Test #'s 111, 222, 333</p>
	</div>
    <script type="text/javascript">
	
	    // hard-coded test data 
		    var data1a = "36,37,35,36,35,37,34,35,37,35";	// psal
			var data1b = "8,8,9,6,5,4,8,6,8,6"; // pH
		    var data1c = "19,21,24,23,26,28,23,22,29,30"; // temp
			
			var data2a = "24,23,31,32,35,32,31,36,32,33";	
			var data2b = [];
		    var data2c = "18,20,19,17,16,18,19,20,22,23";
			
			var data3a = "5,65,13,16,45,22,21,26,32,53";	
			var data3b = [];
		    var data3c = "60,20,19,50,16,18,49,70,2,43";
			
			
			
		$(function () {
		 
             // clear input text field
			$('#newFloatID').val("");
			
			$('#container').highcharts({
				chart: {
					zoomType: 'xy'
				},
				title: {
					text: 'Ocean Readings'
				},
				xAxis: [{
					categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
				}],
				
				
				
				yAxis: [
				// Temperature Axis
				{ 
					labels: {
						format: '{value} Celsius',
						style: {
							color: Highcharts.getOptions().colors[2]
						}
					},
					title: {
						text: 'Temperature',
						style: {
							color: Highcharts.getOptions().colors[2]
						}
					},
					opposite: true

				}, 
				// Salinity yAxis
				{ 
					gridLineWidth: 0,
					title: {
						text: 'Salinity',
						style: {
							color: Highcharts.getOptions().colors[0]
						}
					},
					labels: {
						format: '{value} ppt',
						style: {
							color: Highcharts.getOptions().colors[0]
						}
					}

				}, 
				// pH yAxis
				{ 
					gridLineWidth: 0,
					title: {
						text: 'pH',
						style: {
							color: Highcharts.getOptions().colors[1]
						}
					},
					labels: {
						format: '{value} pH',
						style: {
							color: Highcharts.getOptions().colors[1]
						}
					},
					opposite: true
				}
				
				],  // end y axis object
				tooltip: {
					shared: true
				},
				legend: {
					layout: 'vertical',
					align: 'left',
					x: 120,
					verticalAlign: 'top',
					y: -10,
					floating: true,
					backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
				},
				series: [{
					name: 'Salinity',
					type: 'spline',
					yAxis: 1,
					data: JSON.parse("[" + data1a + "]"),
					tooltip: {
						valueSuffix: ' ppt'
					}

				}, {
					name: 'pH',
					type: 'spline',
					yAxis: 2,
					data: JSON.parse("[" + data1b + "]"),
					marker: {
						enabled: false
					},
					tooltip: {
						valueSuffix: ' pH'
					}

				}, 
				
				{
					name: 'Temperature',
					type: 'spline',
					data: JSON.parse("[" + data1c + "]"),
					tooltip: {
						valueSuffix: ' C'
					}
				}
				
				] // end series
				
			}); // end options definitions
			
					
			// btn click event			
						$('#btnRemove').click(function() {
								var chart = $('#container').highcharts();
								// get value from input
								var value = $('#newFloatID').val();
								
								// hard coded # test
								if(value === '111')
								{
									chart.series[0].setData(JSON.parse("[" + data2a + "]")); // psal
									chart.series[1].setData(JSON.parse("[" + data2b + "]")); // pH
									chart.series[2].setData(JSON.parse("[" + data2c + "]")); // temp
									$('#currentFloat span').text("112233");
									$('#error').text("Test #'s 111, 222, 333");
								}
								else if(value === '222')
								{
								   chart.series[0].setData(JSON.parse("[" + data3a + "]")); // psal
								   chart.series[1].setData(JSON.parse("[" + data3b + "]")); // pH
								   chart.series[2].setData(JSON.parse("[" + data3c + "]")); // temp
								   $('#currentFloat span').text("445566");
								  $('#error').text("Test #'s 111, 222, 333");
								}
								
								else if(value === '333')
								{
								  chart.series[0].setData(JSON.parse("[" + data1a + "]")); // psal
								   chart.series[1].setData(JSON.parse("[" + data1b + "]")); // pH
								   chart.series[2].setData(JSON.parse("[" + data1c + "]")); // temp
								   $('#currentFloat span').text("111111");
								   $('#error').text("Test #'s 111, 222, 333");
								
								}
								else {	
								 $('#error').text("ID doesn't exist - Test #'s 111, 222, 333");
								 $('#currentFloat span').text("");
								}
								
						});	
			
				   
			
		});
     </script>
    </body>
</html>